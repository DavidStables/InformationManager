<div class="module">
  <div class="module-heading">
    Settings
  </div>
  <div class="module-body">
    <form>
      <div class="container">
        <wizard [navBarLayout]="'large-filled'">
          <wizard-step title="Preparation">
            <div class="row wizard-border justify-content-center">
              <div class="col-md-6">
                <h2>Snomed Bulk Importer Preparation</h2>
                <br>
                <p>This will guide you through the process of bulk uploading snomed codes that have been downloaded from TRUD.</p>
                <br>
                <p>You can download the files from the following link on TRUD. (You may need to create an account on TRUD and subscribe to the release first)</p>
                <p><a href="https://isd.digital.nhs.uk/trud3/user/authenticated/group/0/pack/1/subpack/102/releases" target="_blank">Download snomed files</a></p>
                <br>
                <p>Before continuing with this process, please ensure that you have all the files required for the bulk upload.</p>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary pull-right"(click)="cancelWizard()">Cancel</button>
                  <button type="button" class="btn btn-primary pull-right" (finalize)="startUpload()" nextStep>Continue</button>
                </div>
              </div>
            </div>
          </wizard-step>
          <wizard-step title="Upload Snomed Concepts">
            <div class="row wizard-border justify-content-center">
              <div class="col-md-6">
                <h2>Upload snomed concepts file</h2>
                <br>
                <p>Using the files you downloaded in step 1, use the International Edition of snomed which should be of the format :
                  SnomedCT_InternationalRF2_Production_<i>date</i></p>
                <p>Navigate to the following folder: Full - Terminology</p>
                <p>Choose the file called: sct2_Description_Full-en_INT_<i>date</i>.txt</p>
                <div class="input-group">
                  <input type="file" (change)="fileChange($event)" placeholder="Upload file" accept=".txt">
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary pull-right"(click)="cancelWizard()">Cancel</button>
                  <button type="button" class="btn btn-primary pull-right" (finalize)="ok()" nextStep>Continue</button>
                </div>
              </div>
            </div>
          </wizard-step>
          <wizard-step title="Upload Snomed Relationships">
            <div class="row wizard-border justify-content-center">
              <div class="col-md-6">
                <h2>Upload snomed relationships file</h2>
                <br>
                <p>Using the files you downloaded in step 1, use the International Edition of snomed which should be of the format :
                  SnomedCT_InternationalRF2_Production_<i>date</i></p>
                <p>Navigate to the following folder: Full - Terminology</p>
                <p>Choose the file called: sct2_StatedRelationship_Full_INT_<i>date</i>.txt</p>
                <div class="input-group">
                  <input type="file" (change)="fileChange($event)" placeholder="Upload file" accept=".txt">
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary pull-right"(click)="cancelWizard()">Cancel</button>
                  <button type="button" class="btn btn-primary pull-right" (finalize)="okRelationShip()" [disabled]="!conceptUploaded" nextStep>Continue</button>
                </div>
              </div>
            </div>
          </wizard-step>
          <wizard-step title="Confirmation">
            <div class="row wizard-border justify-content-center">
              <div class="col-md-6">
                <h2>Confirmation</h2>
                <p>Started Upload : {{startStatus}}</p>
                <p>Snomed Concept Upload : {{conceptStatus}}</p>
                <p>Snomed Relationship Upload : {{relationshipStatus}}</p>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary pull-right"(click)="cancelWizard()">Cancel</button>
                  <button type="button" class="btn btn-primary pull-right" (click)="completeUpload()">Finish</button>
                </div>
              </div>
            </div>
          </wizard-step>
        </wizard>
      </div>
    </form>
  </div>
</div>
